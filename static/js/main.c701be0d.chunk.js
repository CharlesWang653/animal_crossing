(this.webpackJsonpanimal_crossing=this.webpackJsonpanimal_crossing||[]).push([[0],{190:function(e,t,a){e.exports=a(387)},387:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),i=a.n(l),s=a(40),o=a(41),c=a(46),u=a(47),h=a(398),p=a(390),m=a(396),d=a(391),E=a(103),C=a(18),f=a(389),g=a(178),b=a(392),k=a(400),v=a(399),I=a(401),O=(a(195),a(91)),y=a(70),S=a(394),w=a(393),N=a(395),j=a(78),M=a(397),F=a(196),P=new Promise((function(e,t){F.get("https://sheltered-dusk-56497.herokuapp.com/api/users").then((function(t){var a=[];return t.data.forEach((function(e){var t={};switch(t.key=e._id,t.IslandName=e.IslandName,t.TurnipPrice=e.TurnipPrice,t.Password=e.Password,e.FruitType){case"PEACH":t.FruitType="\u6843\u5b50";break;case"PEAR":t.FruitType="\u68a8";break;case"APPLE":t.FruitType="\u82f9\u679c";break;case"ORANGE":t.FruitType="\u6a58\u5b50";break;case"CHERRY":t.FruitType="\u6a31\u6843"}switch(t.FriendID=e.FriendID,e.NorthSouth){case"North":t.NorthSouth="\u5317\u534a\u7403";break;case"South":t.NorthSouth="\u5357\u534a\u7403"}a.push(t)})),e(a)})).catch((function(e){return t(e)}))})),x=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=n.state.userInput,t=e.name,a=e.price,l=e.password,i=e.fruit,s=e.friendCode,o=e.northSouth,c=e.hour,u=e.minute,p=60*Number(c)+Number(u),m={IslandName:t,TurnipPrice:a,Password:l.toUpperCase(),FruitType:i,FriendID:s,NorthSouth:o,Period:p},d=[];t.length>15&&d.push(r.a.createElement(h.a,{message:"\u5c9b\u540d\u8fc7\u957f",type:"warning",showIcon:!0})),(Number(a)<=0||Number(a)>1e3||NaN===Number(a))&&d.push(r.a.createElement(h.a,{message:"\u4ef7\u683c\u8fc7\u4f4e\u6216\u8fc7\u9ad8",type:"warning",showIcon:!0}));5===l.length&&/([0-9A-Z]){5}/g.test(l.toUpperCase())||d.push(r.a.createElement(h.a,{message:"\u4e0a\u5c9b\u5bc6\u7801\u9519\u8bef",type:"warning",showIcon:!0}));12===s.length&&/[0-9]{12}/g.test(s)||0!==s.length&&d.push(r.a.createElement(h.a,{message:"\u597d\u53cb\u7801\u9519\u8bef",type:"warning",showIcon:!0})),NaN!==p&&0!==p||d.push(r.a.createElement(h.a,{message:"\u65f6\u957f\u4e0d\u80fd\u4e3a0",type:"warning",showIcon:!0})),n.setState({errMessage:d}),d.length||function(e){return new Promise((function(t,a){F.post("https://sheltered-dusk-56497.herokuapp.com/api/users",e).then((function(e){return t(e.data)})).catch((function(e){return a(e)}))}))}(m).then((function(e){n.props.handleSuccess(),n.props.handleClick()})).catch((function(e){n.setState({errMessage:r.a.createElement(h.a,{message:"\u8b66\u544a",description:"\u8bbf\u95ee\u540e\u53f0\u6570\u636e\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",type:"error",closable:!0,showIcon:!0})})}))},n.handleChange=function(e){n.setState({userInput:Object(y.a)({},n.state.userInput,Object(O.a)({},e.target.name,e.target.value))})},n.handleFruitChange=function(e){n.setState({userInput:Object(y.a)({},n.state.userInput,{fruit:e})})},n.handleNSChange=function(e){n.setState({userInput:Object(y.a)({},n.state.userInput,{northSouth:e})})},n.handleHourChange=function(e){n.setState({userInput:Object(y.a)({},n.state.userInput,{hour:e})})},n.handleMinuteChange=function(e){n.setState({userInput:Object(y.a)({},n.state.userInput,{minute:e})})},n.state={userInput:{name:"",price:0,password:"",fruit:"",friendCode:"",northSouth:"",hour:0,minute:0},errMessage:[]},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{maskClosable:!1,title:"Create New Record",visible:this.props.visible,onOk:this.props.handleClick,onCancel:this.props.handleClick,width:600,footer:[r.a.createElement(C.a,{key:"goBack",onClick:this.props.handleClick},"Cancel"),r.a.createElement(C.a,{key:"submit",type:"primary",onClick:this.handleSubmit},"Submit")]},r.a.createElement(w.a,{labelCol:{span:7},wrapperCol:{span:14},layout:"horizontal"},r.a.createElement(w.a.Item,{label:"\u5c9b\u540d"},r.a.createElement(N.a,{name:"name",onChange:this.handleChange,value:this.state.userInput.name})),r.a.createElement(w.a.Item,{required:!0,label:"\u5927\u5934\u83dc\u4ef7\u683c"},r.a.createElement(N.a,{name:"price",onChange:this.handleChange,value:this.state.userInput.price})),r.a.createElement(w.a.Item,{required:!0,label:"\u4e0a\u5c9b\u5bc6\u7801"},r.a.createElement(N.a,{name:"password",onChange:this.handleChange,value:this.state.userInput.password})),r.a.createElement(w.a.Item,{label:"\u6c34\u679c\u7c7b\u578b"},r.a.createElement(j.a,{onChange:this.handleFruitChange,value:this.state.userInput.fruit},r.a.createElement(j.a.Option,{value:"PEACH"},"\u6843\u5b50"),r.a.createElement(j.a.Option,{value:"PEAR"},"\u68a8"),r.a.createElement(j.a.Option,{value:"APPLE"},"\u82f9\u679c"),r.a.createElement(j.a.Option,{value:"ORANGE"},"\u6a58\u5b50"),r.a.createElement(j.a.Option,{value:"CHERRY"},"\u6a31\u6843"))),r.a.createElement(w.a.Item,{label:"\u597d\u53cb\u7801"},r.a.createElement(N.a,{name:"friendCode",addonBefore:"SW -",onChange:this.handleChange,value:this.state.userInput.friendCode})),r.a.createElement(w.a.Item,{label:"\u5357/\u5317\u534a\u7403"},r.a.createElement(j.a,{name:"northSouth",onChange:this.handleNSChange,value:this.state.userInput.northSouth},r.a.createElement(j.a.Option,{value:"North"},"\u5317\u534a\u7403"),r.a.createElement(j.a.Option,{value:"South"},"\u5357\u534a\u7403"))),r.a.createElement(w.a.Item,{required:!0,label:"\u5f00\u5c9b\u65f6\u957f"},r.a.createElement(f.a,null,r.a.createElement(M.a,{min:"0",max:"10",name:"hour",onChange:this.handleHourChange,value:this.state.userInput.hour}),"\u5c0f\u65f6",r.a.createElement(j.a,{name:"minute",style:{width:120},onChange:this.handleMinuteChange,value:this.state.userInput.minute},r.a.createElement(j.a.Option,{value:"0"},"0"),r.a.createElement(j.a.Option,{value:"30"},"30")),"\u5206\u949f"))),this.state.errMessage))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{title:"Help",visible:this.props.visible,onOk:this.props.handleClick,onCancel:this.props.handleClick,footer:[r.a.createElement(C.a,{key:"ok",type:"primary",onClick:this.props.handleClick},"OK")]},r.a.createElement("p",null,"some help infos")))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{title:"Contact Us",visible:this.props.visible,onOk:this.props.handleClick,onCancel:this.props.handleClick,footer:[r.a.createElement(C.a,{key:"ok",type:"primary",onClick:this.props.handleClick},"OK")]},r.a.createElement("p",null,"some contact info")))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleCreateClick=function(){n.setState({isCreateModalOpen:!n.state.isCreateModalOpen})},n.handleHelpClick=function(){n.setState({isHelpModalOpen:!n.state.isHelpModalOpen})},n.handleInfoClick=function(){n.setState({isInfoModalOpen:!n.state.isInfoModalOpen})},n.handleSuccess=function(){n.setState({messageHolder:r.a.createElement(h.a,{message:"\u65b0\u5efa\u6210\u529f",description:"\u65b0\u5efa\u6570\u636e\u6210\u529f\uff01\u8bf7\u5237\u65b0\u9875\u9762\u67e5\u770b\u3002",type:"success",closable:!0,showIcon:!0})})},n.state={isCreateModalOpen:!1,isHelpModalOpen:!1,isInfoModalOpen:!1,data:[],pending:!0,messageHolder:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;P.then((function(t){e.setState({data:t,pending:!1})})).catch((function(t){e.setState({pending:!1,messageHolder:r.a.createElement(h.a,{message:"\u8b66\u544a",description:"\u8bbf\u95ee\u540e\u53f0\u6570\u636e\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",type:"error",closable:!0,showIcon:!0})})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(m.a,{title:"\u52a8\u68ee\u5927\u5934\u83dc\u9ad8\u4ef7\u4ea4\u6613",subTitle:"Beta 1.0"})),r.a.createElement(p.a,null,r.a.createElement(d.a,{span:2,offset:18},r.a.createElement(E.a,{title:"\u6dfb\u52a0"},r.a.createElement(C.a,{type:"primary",shape:"circle",icon:r.a.createElement(k.a,null),onClick:this.handleCreateClick}))),r.a.createElement(d.a,{span:4},r.a.createElement(f.a,null,r.a.createElement(E.a,{title:"help"},r.a.createElement(C.a,{type:"primary",shape:"circle",icon:r.a.createElement(v.a,null),onClick:this.handleHelpClick})),r.a.createElement(E.a,{title:"contact"},r.a.createElement(C.a,{type:"primary",shape:"circle",icon:r.a.createElement(I.a,null),onClick:this.handleInfoClick})),r.a.createElement(x,{visible:this.state.isCreateModalOpen,handleClick:this.handleCreateClick,handleSuccess:this.handleSuccess}),r.a.createElement(H,{visible:this.state.isHelpModalOpen,handleClick:this.handleHelpClick}),r.a.createElement(T,{visible:this.state.isInfoModalOpen,handleClick:this.handleInfoClick})))),r.a.createElement(p.a,null,r.a.createElement(d.a,{span:16,offset:4},this.state.messageHolder,this.state.pending?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"large"})):r.a.createElement(b.a,{columns:[{title:"\u5c9b\u540d",dataIndex:"IslandName"},{title:"\u5927\u5934\u83dc\u4ef7\u683c",dataIndex:"TurnipPrice",defaultSortOrder:"descend",sorter:function(e,t){return e.TurnipPrice-t.TurnipPrice}},{title:"\u4e0a\u5c9b\u5bc6\u7801",dataIndex:"Password"},{title:"\u672c\u5730\u6c34\u679c",dataIndex:"FruitType",filters:[{text:"\u6843\u5b50",value:"\u6843\u5b50"},{text:"\u68a8",value:"\u68a8"},{text:"\u82f9\u679c",value:"\u82f9\u679c"},{text:"\u6a58\u5b50",value:"\u6a58\u5b50"},{text:"\u6a31\u6843",value:"\u6a31\u6843"}],filterMultiple:!0,onFilter:function(e,t){return 0===t.FruitType.indexOf(e)}},{title:"\u597d\u53cb\u7801",dataIndex:"FriendID"},{title:"\u5730\u7406\u4f4d\u7f6e",dataIndex:"NorthSouth",filters:[{text:"\u5357\u534a\u7403",value:"\u5357\u534a\u7403"},{text:"\u5317\u534a\u7403",value:"\u5317\u534a\u7403"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.NorthSouth.indexOf(e)}}],dataSource:this.state.data,pagination:{pageSize:25}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.c701be0d.chunk.js.map